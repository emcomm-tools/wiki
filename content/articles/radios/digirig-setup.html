<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digirig Setup Guide - Ham Radio Encyclopedia</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <nav class="breadcrumb">
        <a href="../index.html">Home</a> &gt; 
        <a href="../index.html#radios">Radios & Equipment</a> &gt; 
        Digirig Setup
    </nav>
    
    <article>
        <h1>Digirig Setup Guide</h1>
        
        <section class="summary">
            <p>The Digirig is a compact, all-in-one sound card interface for digital modes. EmComm-Tools includes automatic detection and configuration for Digirig interfaces.</p>
        </section>
        
        <h2>Overview</h2>
        <p>The Digirig Mobile combines a USB sound card, CAT control interface, and PTT in a single compact device. It's popular for portable and EmComm operations due to its small size and integrated design.</p>
        
        <h2>EmComm-Tools Automatic Setup</h2>
        <p>EmComm-Tools includes PnP (Plug and Play) support for Digirig:</p>
        <ol>
            <li>Connect the Digirig to your computer via USB</li>
            <li>EmComm-Tools will automatically detect the device</li>
            <li>The device appears as <code>/dev/digirig</code> (symlink)</li>
            <li>Audio device appears as "USB Audio CODEC"</li>
        </ol>
        
        <h2>Manual Identification</h2>
        <p>If needed, identify the Digirig manually:</p>
        <pre><code># List USB devices
lsusb | grep -i "audio\|serial"

# Find serial port
ls -la /dev/ttyUSB*

# Find audio device
aplay -l | grep -i usb
arecord -l | grep -i usb</code></pre>
        
        <h2>Device Ports</h2>
        <table>
            <thead>
                <tr><th>Port</th><th>Description</th></tr>
            </thead>
            <tbody>
                <tr><td>/dev/digirig</td><td>EmComm-Tools symlink (preferred)</td></tr>
                <tr><td>/dev/ttyUSB0</td><td>Serial/CAT port (may vary)</td></tr>
                <tr><td>hw:X,0</td><td>ALSA audio device</td></tr>
            </tbody>
        </table>
        
        <h2>Radio Connections</h2>
        
        <h3>Digirig Cable Pinouts</h3>
        <p>Digirig uses a 3.5mm TRRS connector for audio and PTT:</p>
        <table>
            <thead>
                <tr><th>Ring</th><th>Signal</th></tr>
            </thead>
            <tbody>
                <tr><td>Tip</td><td>Audio Out (to radio)</td></tr>
                <tr><td>Ring 1</td><td>Audio In (from radio)</td></tr>
                <tr><td>Ring 2</td><td>PTT (ground to activate)</td></tr>
                <tr><td>Sleeve</td><td>Ground</td></tr>
            </tbody>
        </table>
        
        <h3>Supported Radios</h3>
        <p>Digirig offers cables for most popular amateur radios:</p>
        <ul>
            <li>Icom IC-705, IC-7300, IC-706 series</li>
            <li>Yaesu FT-891, FT-857, FT-817/818</li>
            <li>Kenwood TS-480, TH-D74</li>
            <li>Elecraft KX2, KX3</li>
            <li>Xiegu G90, X6100</li>
            <li>Many HTs via speaker/mic jacks</li>
        </ul>
        
        <h2>Application Configuration</h2>
        
        <h3>JS8Call</h3>
        <ol>
            <li>Audio: Select "USB Audio CODEC" for input and output</li>
            <li>Radio: Use /dev/digirig or /dev/ttyUSB0</li>
            <li>PTT: Set to "CAT" or "RTS" depending on radio</li>
        </ol>
        
        <h3>WSJT-X / FT8</h3>
        <ol>
            <li>Audio Input: USB Audio CODEC</li>
            <li>Audio Output: USB Audio CODEC</li>
            <li>Rig: Select your radio model</li>
            <li>Serial Port: /dev/digirig</li>
            <li>PTT: CAT</li>
        </ol>
        
        <h3>Fldigi</h3>
        <ol>
            <li>Configure → Sound Card: PortAudio, USB Audio CODEC</li>
            <li>Configure → Rig Control: Select radio, /dev/digirig</li>
            <li>PTT: Via CAT command</li>
        </ol>
        
        <h3>Direwolf (Packet)</h3>
        <pre><code># In direwolf.conf
ADEVICE plughw:X,0
PTT /dev/digirig RTS</code></pre>
        
        <h2>Audio Level Adjustment</h2>
        <p>Proper audio levels are critical for digital modes:</p>
        
        <h3>Transmit Level</h3>
        <ol>
            <li>Open <code>alsamixer</code></li>
            <li>Press F6, select USB Audio CODEC</li>
            <li>Adjust playback volume to ~70%</li>
            <li>Fine-tune to avoid ALC action on radio</li>
            <li>Target: ALC just beginning to move</li>
        </ol>
        
        <h3>Receive Level</h3>
        <ol>
            <li>In application waterfall, signals should peak at 30-50 dB</li>
            <li>Adjust radio AF/volume if too high or low</li>
            <li>Alternatively adjust capture in alsamixer</li>
        </ol>
        
        <h2>Troubleshooting</h2>
        
        <h3>Device Not Detected</h3>
        <ul>
            <li>Try a different USB port</li>
            <li>Check <code>dmesg | tail -20</code> for errors</li>
            <li>Verify USB cable is data-capable (not charge-only)</li>
            <li>Check permissions: <code>ls -la /dev/ttyUSB*</code></li>
        </ul>
        
        <h3>No Audio</h3>
        <ul>
            <li>Verify cable is fully seated</li>
            <li>Check radio is in DATA or PKT mode (not USB voice)</li>
            <li>Test with <code>aplay</code> and <code>arecord</code></li>
            <li>Check ALSA mixer levels</li>
        </ul>
        
        <h3>PTT Not Working</h3>
        <ul>
            <li>Verify CAT settings match radio configuration</li>
            <li>Try switching between CAT and RTS PTT</li>
            <li>Check serial port permissions</li>
            <li>Test CAT with <code>rigctl</code></li>
        </ul>
        
        <h2>Testing Commands</h2>
        <pre><code># Test serial port
rigctl -m 3085 -r /dev/digirig -s 9600 f

# Test audio playback
aplay -D plughw:X,0 /usr/share/sounds/alsa/Front_Center.wav

# Test audio recording (5 seconds)
arecord -D plughw:X,0 -d 5 -f cd test.wav
aplay test.wav</code></pre>
        
        <h2>See Also</h2>
        <ul>
            <li><a href="../software/js8call-quickstart.html">JS8Call Quick Start</a></li>
            <li><a href="../software/fldigi-quickstart.html">Fldigi Quick Start</a></li>
            <li><a href="cat-control.html">CAT Control Overview</a></li>
        </ul>
        
        <footer class="attribution">
            <p>Original content for EmComm-Tools Ham Radio Encyclopedia.</p>
        </footer>
    </article>
    
    <nav class="bottom-nav">
        <a href="../index.html">← Back to Index</a>
    </nav>
</body>
</html>
